@model Print_CaseSessionNotificationListVM
@using IOWebApplication.Infrastructure.Models.ViewModels.Case
@{
    Layout = null;
}
<div style="        
        font-family: 'Times New Roman';
        width: 190mm;
        margin-left: auto;
        margin-right: auto;
">
    <center>
        <b>@Model.Title</b>
    </center>
    <br />
    <br />
    <center>
        <b>@Model.NameReport</b>
    </center>
    <center>
        <b>@Model.SessionTitle</b>
    </center>
    <br />
    <br />

    <table class="bordered">
        <tr>
            <th>№ по ред</th>
            <th>Качество на призован</th>
            <th>Имена</th>
            <th>Адрес</th>
            <th>Забележка</th>
            <th>Дата на изпращане</th>
        </tr>

        @foreach (var notList in Model.NotificationLists)
        {
            var rowSpan = notList.Notifications.Count;
            if (rowSpan < 1)
            {
                rowSpan = 1;
            }
            bool isFirst = true;
            @foreach (var not in notList.Notifications)
            {
                <tr style="page-break-inside: avoid">
                    @if (isFirst)
                    {
                        <td align="center" width="10%" rowspan="@rowSpan">@notList.RowNumber</td>
                        <td width="10%" rowspan="@rowSpan">@notList.PersonRole</td>
                        <td width="10%" rowspan="@rowSpan">@notList.PersonName.Decode()</td>
                    }
                    @{
                        isFirst = false;
                    }
                    <td width="30%">@not.AddressString?.Replace("<br>", Environment.NewLine)</td>
                    <td width="25%">@not.Remark?.Replace("</br>", Environment.NewLine)</td>
                    <td align="center" width="10%">@not.DateSend</td>
                </tr>
            }
        }
    </table>

</div>

